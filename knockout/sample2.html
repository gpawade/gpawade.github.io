<html>
<head>
	<script type="text/javascript" src="../ref/js/knockout-3.3.0.js"></script>
	<script type="text/javascript" src="../ref/js/jquery.js"></script>
	<!-- Bootstrap -->
    <link href="../ref/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

	<h2>Welcome</h2>


	<div class="container-fluid">

		<table class="table" data-bind="foreach:list">
			<tr>
				<td><span data-bind="text:id"></span> </td>
				<td><span data-bind="text:name"></span> </td>
				<td><span data-bind="text:phone"></span> </td>
				<td><span data-bind="text:gender"></span> </td>
				<td><span data-bind="text:company"></span> </td>
				<td><span data-bind="text:email"></span> </td>
				<td><span data-bind="text:address"></span> </td>
			</tr>

		</table>

		
	</div>


	<script type="text/javascript">

	var Customer = function(){
		this.id = ko.observable(0);
		this.name = ko.observable('');
		this.phone = ko.observable('');
		this.gender = ko.observable('');
		this.company = ko.observable('');
		this.email = ko.observable('');
		this.address = ko.observable('');

	};

	var viewModel = {
		list : ko.observableArray()


	};

	$.getJSON('../ref/data/customers.json', function(res){

		console.log(res);

		$.each(res,function(i,item){
			 viewModel.list.push(toCustomerModel(item));
		});
	});

	var toCustomerModel = function(item){

		var c = new Customer();
		c.id(item.id);
		c.name(item.name);
		c.phone(item.phone);
		c.gender(item.gender);
		c.company(item.company);
		c.email(item.email);
		c.address(item.address);

		return c;
	}

		

	</script>


</body>
</html>