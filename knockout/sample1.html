	<html>
<head>
	<script type="text/javascript" src="../ref/js/knockout-3.3.0.js"></script>
	<!-- Bootstrap -->
    <link href="../ref/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
	
	<h3>Sample 1 <small>- Todo app</small></h3>
	
	<div class="container">
		<form data-bind="submit:add" class="form-inline">
			<div class="form-group">				
				<input type="text" data-bind="value:newitem, hasFocus:selected" id="newtodo" class="form-control" placeholder="New task" />
				
			</div>
			<button type="submit" data-bind="click:add" class="btn btn-success">Add Task</button>
		</form>

		<div class="row well">

			<h4> <span data-bind="text:remaining"></span> / <span data-bind="text:list().length"></span></h4>
			<ul data-bind="foreach:list" class="list-unstyled">
				<li > 					
					<label >
					    <input type="checkbox" data-bind="checked:isComplete"  /> 
					</label>
					
					<span data-bind="text:task"></span>

					<button class="btn btn-link" data-bind='click:remove'>Remove</button>

				</li>
			</ul>

		</div>

	</div>


	<script type="text/javascript">


		var taskModel = function(item){
			this.task = item;
			this.isComplete = ko.observable(false);

			this.remove = function(){
			    console.log("remove");
				todoModel.list.remove(this);
			}

		}

		var todoModel = {

			   newitem : ko.observable(""),

			   selected : ko.observable(true),

			   list : ko.observableArray(),

			   add : function(){
			   		this.list.push(new taskModel(this.newitem()));
			   		this.newitem("");
			   		this.selected(true);
			   },


		}
		todoModel.remaining = ko.dependentObservable(function () {
		            return this.list().filter(function (el) {
		                return el.isComplete() === false;
		            }).length;
		       }, todoModel);

		ko.applyBindings(todoModel);


	</script>
</body>
</html>
